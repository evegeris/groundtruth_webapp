"use strict";var arrify=require("arrify"),micromatch=require("micromatch"),path=require("path"),anymatch=function(t,r,e,a,c){function n(t,e){var c;switch(toString.call(t)){case"[object String]":c=u===t||i&&i===t,c=c||micromatch.isMatch(u,t);break;case"[object RegExp]":c=t.test(u)||i&&t.test(i);break;case"[object Function]":c=t.apply(null,r);break;default:c=!1}return c&&(s=e+a),c}if(t=arrify(t),r=arrify(r),1===arguments.length)return anymatch.bind(null,t.map(function(t){return"string"==typeof t&&"!"!==t[0]?micromatch.matcher(t):t}));a=a||0;var i,u=r[0],o=!1,s=-1,l=t,h=l.reduce(function(r,e,a){return"string"==typeof e&&"!"===e[0]&&(l===t&&(l=l.slice()),l[a]=null,r.push(e.substr(1))),r},[]);return h.length&&micromatch.any(u,h)||("\\"===path.sep&&"string"==typeof u&&(i=u.split("\\").join("/"),i=i===u?null:i),o=l.slice(a,c).some(n)),e===!0?s:o};module.exports=anymatch;