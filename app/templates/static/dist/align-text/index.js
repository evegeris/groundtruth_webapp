"use strict";var typeOf=require("kind-of"),repeat=require("repeat-string"),longest=require("longest");module.exports=function(e,r){var t,n=typeOf(e);if("array"===n)t=e;else{if("string"!==n)throw new TypeError("align-text expects a string or array.");t=e.split(/(?:\r\n|\n)/)}for(var i=typeOf(r),a=t.length,p=longest(t),s=[],f=0;a--;){var o,g=String(t[f++]);if(o="function"===i?r(g.length,p.length,g,t,f):"number"===i?r:p.length-g.length,"number"===typeOf(o))s.push(repeat(" ",o)+g);else if("object"===typeOf(o)){var l=repeat(o.character||" ",o.indent||0);s.push((o.prefix||"")+l+g)}}return"array"===n?s:s.join("\n")};