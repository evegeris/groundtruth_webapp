module.exports=function(e){"use strict";e.initConfig({pkg:e.file.readJSON("package.json"),meta:{banner:'/**\n * <%= pkg.description %>\n * @version v<%= pkg.version %> - <%= grunt.template.today("yyyy-mm-dd") %>\n * @link <%= pkg.homepage %>\n * @author <%= pkg.author %>\n * @contributors <%= pkg.contributors %>\n * @license MIT License, http://www.opensource.org/licenses/MIT\n */\n'},dirs:{dest:"dist"},concat:{options:{banner:"<%= meta.banner %>"},dist:{src:["index.js"],dest:"<%= dirs.dest %>/<%= pkg.name %>.js"}},uglify:{options:{banner:"<%= meta.banner %>"},dist:{src:["<%= concat.dist.dest %>"],dest:"<%= dirs.dest %>/<%= pkg.name %>.min.js"}},stage:{},release:{options:{commitMessage:"<%= version %>",tagName:"<%= version %>",file:"package.json",push:!1,tag:!1,pushTags:!1,npm:!1}},jshint:{files:["Gruntfile.js","index.js","test/*.js","test/unit/*.js"],options:{curly:!0,browser:!0,eqeqeq:!0,immed:!0,latedef:!0,newcap:!0,noarg:!0,sub:!0,undef:!0,boss:!0,eqnull:!0,expr:!0,node:!0,"-W018":!0,globals:{exports:!0,angular:!1,$:!1}}},karma:{test:{options:{reporters:["dots"],singleRun:!0}},server:{options:{singleRun:!1}},options:{configFile:__dirname+"/test/karma.conf.js"}}}),e.loadNpmTasks("grunt-contrib-jshint"),e.loadNpmTasks("grunt-contrib-concat"),e.loadNpmTasks("grunt-contrib-uglify"),e.registerTask("stage","git add files before running the release task",function(){var s=this.options().files;e.util.spawn({cmd:"win32"===process.platform?"git.cmd":"git",args:["add"].concat(s)},e.task.current.async())}),e.registerTask("default",["test"]),e.registerTask("lint",["jshint"]),e.registerTask("test",["jshint","karma:test"]),e.registerTask("test-server",["karma:server"]),e.registerTask("build",["test","concat","uglify"]),e.registerTask("release",["build"]),e.registerMultiTask("karma","Starts up a karma server.",function(){var e=require("karma"),s=this.async(),t=new e.Server(this.options(),function(e){s(0===e)});t.start()})};